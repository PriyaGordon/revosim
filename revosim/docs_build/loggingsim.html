<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>9. Running Log &mdash; REvoSim 3.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="10. Genome comparison dock" href="genomecomparison.html" />
    <link rel="prev" title="8. Configuring Outputs and Run End Log" href="settingsoutput.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> REvoSim
            <img src="_static/REvoSim.jpg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">2. Compiling, Installation, and Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="revosimconcepts.html">3. Concepts and Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="windowlayout.html">4. Window Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="settingsorganisms.html">5. Configuring your Organisms</a></li>
<li class="toctree-l1"><a class="reference internal" href="settingssimulation.html">6. Setting up the Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="settingsinteractions.html">7. Configuring Interactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="settingsoutput.html">8. Configuring Outputs and Run End Log</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">9. Running Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#buttons">9.1. Buttons</a></li>
<li class="toctree-l2"><a class="reference internal" href="#header-text">9.2. Header text</a></li>
<li class="toctree-l2"><a class="reference internal" href="#iteration-text">9.3. Iteration text</a></li>
<li class="toctree-l2"><a class="reference internal" href="#species-text">9.4. Species text</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v3-0-0-log-options">9.5. v3.0.0 log options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iteration-keywords">9.5.1. Iteration keywords</a></li>
<li class="toctree-l3"><a class="reference internal" href="#species-keywords">9.5.2. Species keywords</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v2-0-0-log">9.6. v2.0.0 log</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="genomecomparison.html">10. Genome comparison dock</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">11. Advanced Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="commandline.html">12. Command Line Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">13. Tests</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">REvoSim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">9. </span>Running Log</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/loggingsim.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="running-log">
<span id="logging"></span><h1><span class="section-number">9. </span>Running Log<a class="headerlink" href="#running-log" title="Permalink to this headline">¶</a></h1>
<p>In addition to the Run end log and image logging (see <a class="reference internal" href="settingsoutput.html#outputs"><span class="std std-ref">Configuring Outputs and Run End Log</span></a>), plus the custom logs (see <a class="reference internal" href="mainmenu.html#mainmenu"><span class="std std-ref">Main Menu</span></a>), REvoSim has a versatile system to write customised logs at every polling iteration during a run. When enabled, this writes a file called REvoSim_log.txt to the output folder, then updates this by appending more data every polling iteration, giving an overview of the current run. The v3.0.0 logging systems functions by outputting text that has been entered in this dock (including line breaks). When doing so, it replaces key words/phrases surrounded by *stars* with values that document the state of the simulation. The three text areas/boxes in this dock allow different kinds of text for logs to be entered, as outlined below.</p>
<section id="buttons">
<h2><span class="section-number">9.1. </span>Buttons<a class="headerlink" href="#buttons" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Write to file</dt>
<dd class="field-odd"><p>When this option is checked a log file is written during the course of every run. See <a class="reference internal" href="#logging"><span class="std std-ref">Running Log</span></a> for more details of REvoSim logs.</p>
</dd>
<dt class="field-even">Instructions</dt>
<dd class="field-even"><p>This button creates a pop up window with simplified instructions for writing the running log.</p>
</dd>
<dt class="field-odd">Validate logs</dt>
<dd class="field-odd"><p>This button will highlight, in red, any star-bounded *key words* that are not recognised by the logging system.</p>
</dd>
<dt class="field-even">Command line log file</dt>
<dd class="field-even"><p>This option outputs an XML file for the current log settings that can be loaded from the command line for batch runs.</p>
</dd>
<dt class="field-odd">v2.0.0 log</dt>
<dd class="field-odd"><p>This populates the text areas with the default running log text from v2.0.0.</p>
</dd>
<dt class="field-even">v2.0.0 CSV log</dt>
<dd class="field-even"><p>This populates the text areas with the default running log text from v2.0.0, formatted as a CSV.</p>
</dd>
</dl>
</section>
<section id="header-text">
<h2><span class="section-number">9.2. </span>Header text<a class="headerlink" href="#header-text" title="Permalink to this headline">¶</a></h2>
<p>This text area can be used for text that should appear at the start of a log file, but is only written when the file is created. This could include the settings for any given run, comments relevant to the experiment, or a header for the remaining columns, for example.</p>
</section>
<section id="iteration-text">
<h2><span class="section-number">9.3. </span>Iteration text<a class="headerlink" href="#iteration-text" title="Permalink to this headline">¶</a></h2>
<p>This text is written to the log file every polling iteration. This is likely to include statistics about the grid as a whole, for example, number of living organisms, iteration number, or mean fitness. A full list of options is provided below.</p>
<dl class="field-list simple">
<dt class="field-odd">Write header from iteration log</dt>
<dd class="field-odd"><p>This writes a header in the header text area based on the iteration text. Unrecognised keywords will be coloured in red.</p>
</dd>
</dl>
</section>
<section id="species-text">
<h2><span class="section-number">9.4. </span>Species text<a class="headerlink" href="#species-text" title="Permalink to this headline">¶</a></h2>
<p>This text is written to the log file for each species, for every polling iteration. This data might include species ID, its origin time, the ID of its parents, and the number of organisms in that species.  A full list of options is provided below.</p>
<dl class="field-list simple">
<dt class="field-odd">Write header from species log</dt>
<dd class="field-odd"><p>This writes a header in the header text area based on the species text. Unrecognised keywords will be coloured in red.</p>
</dd>
</dl>
</section>
<section id="v3-0-0-log-options">
<h2><span class="section-number">9.5. </span>v3.0.0 log options<a class="headerlink" href="#v3-0-0-log-options" title="Permalink to this headline">¶</a></h2>
<p>In the v3.0.0 custom logs can be created by entering outputs in the text areas as described above, including *keywords*. These keywords are replaced with outputs for further analysis when the log is written (e.g. *iteration* is replaced with the current iteration number).</p>
<p>Keywords are show below, first per iteration keywords, then per species keywords (although some can be used in either context). The escape sequence for a star (*) is two stars (**).</p>
<section id="iteration-keywords">
<h3><span class="section-number">9.5.1. </span>Iteration keywords<a class="headerlink" href="#iteration-keywords" title="Permalink to this headline">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">*dumpGenomes*</dt>
<dd class="field-odd"><p>This writes the genomes of every living digital organism, and the X then Y coordinate in which they are found, separated by commas.</p>
</dd>
<dt class="field-even">*gridBreedEntries*</dt>
<dd class="field-even"><p>The number of organisms in the grid which are attempting to breed at the polling iteration.</p>
</dd>
<dt class="field-odd">*gridBreedFails*</dt>
<dd class="field-odd"><p>The number of failed breeding attempts in the polling iteration for all organisms in the grid.</p>
</dd>
<dt class="field-even">*gridBreedSuccess*</dt>
<dd class="field-even"><p>The number of successful breeds in the polling iteration for all organisms in the grid.</p>
</dd>
<dt class="field-odd">*gridMeanFitness*</dt>
<dd class="field-odd"><p>The mean fitness of all the organisms in the grid at polling iteration.</p>
</dd>
<dt class="field-even">*gridNumberAlive*</dt>
<dd class="field-even"><p>The number of organisms alive at polling iteration.</p>
</dd>
<dt class="field-odd">*gridGeneration*</dt>
<dd class="field-odd"><p>This calculates the average age (thus generation time) of all successful parents in the polling iteration. Note that it calculates this based on the assumption (which is true for the majority of settings), that organisms will only successfully breed once in their lifetime. This assumption can be checked using the *gridNumberAlive* and *gridBreedSuccess* outputs to calculate the mean number of breeding individuals at any generation.</p>
</dd>
<dt class="field-even">*gridTrophicHistograms*</dt>
<dd class="field-even"><p>This outputs a histogram of the trophic levels of all the organisms in the grid, at 0.1 intervals between 0 and 3.</p>
</dd>
<dt class="field-odd">*iteration*</dt>
<dd class="field-odd"><p>The current iteration.</p>
</dd>
<dt class="field-even">*printSettings*</dt>
<dd class="field-even"><p>This prints a string of all REvoSim settings at the polling iteration, or start of the run if placed in the header.</p>
</dd>
<dt class="field-odd">*printTime*</dt>
<dd class="field-odd"><p>A string showing the time.</p>
</dd>
<dt class="field-even">*speciesCount*</dt>
<dd class="field-even"><p>The number of species alive at polling iteration.</p>
</dd>
</dl>
</section>
<section id="species-keywords">
<h3><span class="section-number">9.5.2. </span>Species keywords<a class="headerlink" href="#species-keywords" title="Permalink to this headline">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">*Ca*</dt>
<dd class="field-odd"><p>This is the sum of the gene frequency differences from the origin of a species for the word(s) included in the fitness algorithm.</p>
</dd>
<dt class="field-even">*completeSpeciesData*</dt>
<dd class="field-even"><p>This writes the complete species data for any given species, of the form described for the end run log (see <a class="reference internal" href="settingsoutput.html#outputs"><span class="std std-ref">Configuring Outputs and Run End Log</span></a>).</p>
</dd>
<dt class="field-odd">*Cr*</dt>
<dd class="field-odd"><p>This is the sum of the gene frequency differences from the last polling iteration for the word(s) included in the fitness algorithm.</p>
</dd>
<dt class="field-even">*currentGeneFrequencies*</dt>
<dd class="field-even"><p>This writes the mean number of on bits for every position of the genome across a species.</p>
</dd>
<dt class="field-odd">*originTime*</dt>
<dd class="field-odd"><p>This is the polling iteration at which the species was first identified as reproductively isolated (see 2019 paper for a description of the species algorithm).</p>
</dd>
<dt class="field-even">*originalGeneFrequencies*</dt>
<dd class="field-even"><p>This writes the mean number of on bits for every position of the genome across a species at its origination.</p>
</dd>
<dt class="field-odd">*NCa*</dt>
<dd class="field-odd"><p>This is the sum of the gene frequency differences from the origin of a species for the word(s) <em>not</em> included in the fitness algorithm.</p>
</dd>
<dt class="field-even">*NCr*</dt>
<dd class="field-even"><p>This is the sum of the gene frequency differences from the last polling iteration for the word(s) <em>not</em> included in the fitness algorithm.</p>
</dd>
<dt class="field-odd">*speciesGenomeDiversity*</dt>
<dd class="field-odd"><p>This is the number of distinct genomes included within a species.</p>
</dd>
<dt class="field-even">*speciesID*</dt>
<dd class="field-even"><p>REvoSim’s ID for a species, which is useful for correlating statistics with the tree output by the software.</p>
</dd>
<dt class="field-odd">*speciesMeanEnvironmentalFitness*</dt>
<dd class="field-odd"><p>The mean fitness of the species from the environmental fitness algorithm.</p>
</dd>
<dt class="field-even">*speciesMeanFitness*</dt>
<dd class="field-even"><p>The mean fitness of the species from the environmental fitness allgorithm plus any interactions that impact on fitness.</p>
</dd>
<dt class="field-odd">*speciesMeanRunningEnergy*</dt>
<dd class="field-odd"><p>This is the mean total lifetime energy of the organisms within a species (see <a class="reference internal" href="populationscene.html#interactions"><span class="std std-ref">Interactions</span></a>).</p>
</dd>
<dt class="field-even">*speciesMeanRunningStolenEnergy*</dt>
<dd class="field-even"><p>This is the mean total lifetime stolen energy of the organisms within a species (see <a class="reference internal" href="populationscene.html#interactions"><span class="std std-ref">Interactions</span></a>).</p>
</dd>
<dt class="field-odd">*speciesModalGenome*</dt>
<dd class="field-odd"><p>This outputs the modal genome of the species.</p>
</dd>
<dt class="field-even">*speciesParent*</dt>
<dd class="field-even"><p>This outputs the REvoSim species ID for the parent species.</p>
</dd>
<dt class="field-odd">*speciesSize*</dt>
<dd class="field-odd"><p>The number of individuals within the species.</p>
</dd>
<dt class="field-even">*speciesTrophicLevel*</dt>
<dd class="field-even"><p>The mean trophic level of the organisms in a species.</p>
</dd>
</dl>
</section>
</section>
<section id="v2-0-0-log">
<h2><span class="section-number">9.6. </span>v2.0.0 log<a class="headerlink" href="#v2-0-0-log" title="Permalink to this headline">¶</a></h2>
<p>The v2.0.0 log is structured as follows:</p>
<dl class="field-list simple">
<dt class="field-odd">Timestamp</dt>
<dd class="field-odd"><p>The first line is a time stamp highlighting when the run was written, in the following format: 2018-12-30T11:57:51</p>
</dd>
<dt class="field-even">Settings</dt>
<dd class="field-even"><p>A printout of all REvoSim settings for this run then follows, divided into integers and then bools. This means that at any point it is possible to revisit and check all settings for that run.</p>
</dd>
<dt class="field-odd">Legend</dt>
<dd class="field-odd"><p>There is then an explanation of the structure of the log files. Every iteration, the log records data about the simulation to file in a format designed to be easy to parse into a range of analytical environments (e.g. R, Python). This structure is as follows for each iteration:</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="p">[</span><span class="n">I</span><span class="p">]</span> <span class="n">Iteration</span> <span class="n">Number</span>
<span class="o">-</span> <span class="p">[</span><span class="n">P</span><span class="p">]</span> <span class="n">Population</span> <span class="n">Grid</span> <span class="n">Data</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">living</span> <span class="n">digital</span> <span class="n">organisms</span>
  <span class="o">-</span> <span class="n">Mean</span> <span class="n">fitness</span> <span class="n">of</span> <span class="n">living</span> <span class="n">digital</span> <span class="n">organisms</span>
  <span class="o">-</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">entries</span> <span class="n">on</span> <span class="n">the</span> <span class="n">breed</span> <span class="nb">list</span>
  <span class="o">-</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">failed</span> <span class="n">breed</span> <span class="n">attempts</span>
  <span class="o">-</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">species</span>
  <span class="o">-</span> <span class="n">Trophic</span> <span class="n">histograms</span>
<span class="o">-</span> <span class="p">[</span><span class="n">S</span><span class="p">]</span> <span class="n">Species</span> <span class="n">Data</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">Species</span> <span class="n">ID</span>
  <span class="o">-</span> <span class="n">Species</span> <span class="n">origin</span> <span class="p">(</span><span class="n">iterations</span><span class="p">)</span>
  <span class="o">-</span> <span class="n">Species</span> <span class="n">parent</span>
  <span class="o">-</span> <span class="n">Species</span> <span class="n">current</span> <span class="n">size</span> <span class="p">(</span><span class="n">number</span> <span class="n">of</span> <span class="n">individuals</span><span class="p">)</span>
  <span class="o">-</span> <span class="n">Species</span> <span class="n">mean</span> <span class="n">Environmental</span> <span class="n">Fitness</span>
  <span class="o">-</span> <span class="n">Species</span> <span class="n">current</span> <span class="n">genome</span> <span class="p">(</span><span class="n">the</span> <span class="n">modal</span> <span class="n">genome</span> <span class="n">of</span> <span class="n">the</span> <span class="n">species</span><span class="p">,</span> <span class="n">the</span> <span class="n">genome</span> <span class="n">that</span> <span class="n">occurs</span> <span class="n">most</span> <span class="n">frequently</span><span class="p">)</span>
  <span class="o">-</span> <span class="n">Species</span> <span class="n">trophic</span> <span class="n">level</span> <span class="p">(</span><span class="n">the</span> <span class="n">mean</span> <span class="n">trophic</span> <span class="n">level</span> <span class="n">of</span> <span class="n">individuals</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">species</span><span class="p">)</span>
  <span class="o">-</span> <span class="n">Species</span> <span class="n">genome</span> <span class="n">diversity</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Log data</dt>
<dd class="field-odd"><p>The log then begins. Iterations are separated by new line breaks. Every iteration has a single [I] line, one [P] line, and then an [S] line for every species above the minimum species size. We note that it does not exlude species without descendents because it is written during the simulation, appending to the file for speed. To filter out those species without descendents would introduce the need to store and then regularly filter the log data, and thus would come with a notable computational overhead.</p>
</dd>
<dt class="field-even">CSV format</dt>
<dd class="field-even"><p>If the ‘Log file formatted as CSV’ option is checked in output settings, the log file has a different and simpler format using the ‘comma separated value’ system. This may be easier to parse in some software (e.g. spreadsheets). A single header row is generated at the start of the file, providing titles for columms. Subsequent rows are generated for each [S] record described above, but these also include columns with the [I] and [P] records in each row. All fields described above are included in the output.</p>
</dd>
</dl>
<p>This logging system is designed to allow as many potential elements of a RevoSim run to be quantified as possible. Should any further measures or statistics be required, please file a <a class="reference external" href="https://github.com/palaeoware/revosim/issues">feature request</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="settingsoutput.html" class="btn btn-neutral float-left" title="8. Configuring Outputs and Run End Log" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="genomecomparison.html" class="btn btn-neutral float-right" title="10. Genome comparison dock" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Mark D. Sutton, Russell J. Garwood, Alan R.T. Spencer, Euan Furness.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>